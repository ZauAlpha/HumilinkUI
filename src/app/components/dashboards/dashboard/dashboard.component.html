<div class="self-center mt-4">
    <h3 class="text-3xl">Tus links</h3>
</div>
@if (loading$ | async) {
<div
    class="rounded-2xl bg-gradient-to-tr from-[#6fafee] to-[#73c993] self-center p-16 shadow-lg inline-flex items-center">
    <svg class="mr-3 size-10 animate-spin flex-shrink-0 " viewBox="0 0 24 24" fill="none">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="white" stroke-width="4"></circle>
        <path class="opacity-75" fill="white"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
        </path>
    </svg>
    <p class="text-center text-4xl font-light">Loading</p>
</div>

}
@else {
<table class="table-auto text-center mx-5 mt-5">
    <tr class="bg-slate-200 rounded-md text-gray-500 shadow-sm ">
        <th class="bg-slate-200 font-normal rounded-s-md"></th>
        <th class="font-normal ">Humi
        </th>
        <th class="font-normal">Page</th>
        <th class="font-normal">Clicks</th>
        <th class="bg-slate-200 rounded-e-md"></th>
    </tr>
    @for (url of urls$ | async; track $index) {
    <tr class="text-gray-800 font-medium border-b">
        <td class="py-2">{{$index+1}}</td>
        <td class="py-2 ">
            <a class="inline-block text-blue-600 transition-all duration-75 hover:text-blue-900 hover:scale-105 active:scale-90 active:text-yellow-500"
                href="{{url.humiLink}}">{{url.humiLink}}</a>
            <button class="ml-4 " (click)="copyToClipboard($index)">
                @if (copiedId==$index) {
                <svg xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 inline-block fill-green-400 transition-all duration-75" viewBox="0 0 448 512"
                    fill="currentColor">
                    <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                    <path
                        d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" />
                </svg>
                }
                @else {
                <svg class="h-5 w-5 inline-block fill-black transition-all duration-75 hover:fill-blue-900 hover:scale-125 active:scale-90"
                    clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"
                    viewBox="0 0 24 24" fill="currentColor" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="m6 19v2c0 .621.52 1 1 1h2v-1.5h-1.5v-1.5zm7.5 3h-3.5v-1.5h3.5zm4.5 0h-3.5v-1.5h3.5zm4-3h-1.5v1.5h-1.5v1.5h2c.478 0 1-.379 1-1zm-1.5-1v-3.363h1.5v3.363zm0-4.363v-3.637h1.5v3.637zm-13-3.637v3.637h-1.5v-3.637zm11.5-4v1.5h1.5v1.5h1.5v-2c0-.478-.379-1-1-1zm-10 0h-2c-.62 0-1 .519-1 1v2h1.5v-1.5h1.5zm4.5 1.5h-3.5v-1.5h3.5zm3-1.5v-2.5h-13v13h2.5v-1.863h1.5v3.363h-4.5c-.48 0-1-.379-1-1v-14c0-.481.38-1 1-1h14c.621 0 1 .522 1 1v4.5h-3.5v-1.5z"
                        fill-rule="nonzero" />
                </svg>
                }
            </button>
        </td>
        <td class="py-2"><a
                class="inline-block text-blue-600 transition-all duration-75 hover:text-blue-900 hover:scale-105 active:scale-90 active:text-yellow-500"
                href="{{url.originalUrl}}">{{url.originalUrl}}</a></td>
        <td class="py-2">{{url.totalClicks}}</td>
        <td class="text-center py-2">
            <button class="text-gray-500 hover:text-gray-800 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block fill-black" viewBox="0 -960 960 960"
                    stroke=" currentColor">
                    <path
                        d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                </svg>
            </button>
        </td>
    </tr>

    }
</table>
}





<!-----
<tr>

    <td class="font-semibold text-gray-800">Conferencia UX</td>
    <td class="text-blue-600 underline cursor-pointer">humi.ly/uxconf</td>
    <td class="text-gray-600">https://evento.com/ux2025</td>
    <td class="text-center">67</td>
    <td class="text-center">
        <button class="text-gray-500 hover:text-gray-800 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        </button>
    </td>
</tr>
-->